---
title: TCP/IP笔记
date: 2018-04-24 14:18:13
tags: 
	- 网络
	- TCP/IP
categories: 技术相关
---

读鸟哥Linux私房菜，复习网络部分

# TCP/IP 网络模型

相比于 OSI 七层模型，TCP/IP 模型将应用，表示，会话等层压缩成为应用层，将总层数缩短到4层。

{% qnimg osi_tcpip.gif alt:TCP/IP 模型 %}

链接层负责底层数据传输以及数据校验和转换，网络层即IP层负责数据包的转发，即决定数据包的流向。TCP层负责建立链接，数据封装等等。

<!--more-->
# IP 地址

现行的标准即 IPv4 地址，由 32 bits 组成，习惯上会把它表示成点分十进制，比如 127.0.0.1，一个IP地址分为两个部分，网络部分和主机部分，它们所占的位数不一定，但共同组成32位字长。

## 网段地址和广播地址

所有具有相同网络部分的IP地址，共同组成了一个网络，或者网段。网络部分固定，主机部分全部为零的地址就叫做这个网络的网段地址。网段地址用来表示一群主机的共同地址。

网络部分固定，主机部分全部为一的地址叫做广播地址。

网段地址和广播地址都不可以作为ip地址分配给主机。

# IP分级

常用基本三类

class A: 0xxxxxxx.xxxxxxxx.xxxxxxxx.xxxxxxxx 网络部分开头为0，网络部分占8位 

class B: 10xxxxxx.xxxxxxxx.xxxxxxxx.xxxxxxxx 网络部分开头为10，网络部分占16位 

class C: 110xxxxx.xxxxxxxx.xxxxxxxx.xxxxxxxx 网络部分开头为110，网络部分占24位

同时还有 class D,E 并不常用。

# IP 种类

* Public IP : 公共 IP ，经由 INTERNIC 所统一规划的 IP，有这种 IP 才可以连上 Internet ；
* Private IP : 私有 IP 或保留 IP，不能直接连上 Internet 的 IP ， 主要用于局域网络内的主机联机规划。

其中私有网段

* Class A：10.0.0.0 - 10.255.255.255
* Class B：172.16.0.0 - 172.31.255.255
* Class C：192.168.0.0 - 192.168.255.255

# 子网，子网掩码

由于对于网络划分细度的需求，通常的三类无法满足所有的情况。所以就出现了子网的概念。简单的讲子网就是将一部分主机号当做网络号，从而扩大网络部分。

比如我们有192.168.0.0 ~ 192.168.0.255这个网段，前24位为网络号，后8位为主机号。为了增大网段（可能是为了分配给不同的公司，家庭）可以把主机号的第一位当做网络号，这样就把这个网段分隔成了两个网段

192.168.0.128 ~ 192.168.0.255
192.168.0.0 ~ 192.168.0.127

子网掩码就是网络部分全部是1，主机部分全部是0，这样对于任意给出的这个网段的IP地址，只要和子网掩码做&操作，就可以得到当前网段的地址了。

## 简单写法

有时候会看到这种IP地址的写法 97.64.26.5/20, 这个的意思是前面表示主机IP地址，20 表示这个地址中前20位是网络号







